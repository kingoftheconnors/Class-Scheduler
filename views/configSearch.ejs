<%- include('includes/header.ejs') %>

    <div class="jumbotron jumbotron-fluid bg-primary text-light">
        <div class="container text-center">
            <h1 class="display-2">Moc Meetup</h1>
            <p>Find the class-free times for your target audience!</p>
        </div>
    </div>
    <div class="container">
        <% if ( error.length > 0 ) { %>
            <p class="py-3 text-center text-danger"><%= error %> </p>
        <% } %>
        <% if ( message.length > 0 ) { %>
            <p class="py-3 text-center text-success"><%= message %> </p>
        <% } %>
        <!-- On submit use an ajax call to get all classes from the preset chosen, which the user can then dynamically add to-->
        <div class="row py-3 justify-content-center">
            <div class="col-7 col-md-8 col-lg-9">
                <input id="classBrowser" list="classroomList" class="form-control" placeholder="Enter a class name" maxlength="100" />
                <datalist id="classroomList">
                    <% for(let className of classes){ %>
                        <option value="<%= className %>"><%= className %></option>
                    <% } %>
                </datalist>
            </div>
            <div class="col-3 col-md-2 col-lg-1">
                <button class="btn-info form-control" type="button" onclick="addClass();">Add</button>
            </div>
        </div>
        <form action="/chart" method="POST">
            <!-- Majors & Years (dynamically add readonly input fields copying values using add button)-->
            <div class="row justify-content-around">
                <div class="col-10">
                    <div id="classBox" class="classBox border border-dark rounded bg-info text-black p-2 mb-0">
                        <div id="classBoxPlaceholder" class="row">
                            <div class="col-9 col-md-10 align-self-center pl-4 py-2"><i class="text-light text-shadow">Add classes to generate a weekly calendar</i></div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Presets box -->
            <div class="row justify-content-center">
                <div class="col-7 col-md-8 col-lg-9 pr-0">
                    <select class="form-control" id="viewPreset">
                        <option selected="">Use a Preset of classes...</option>
                        <% for(let presetName of Object.keys(presets)){ %>
                            <option value="<%= presetName %>" data-classlist="<%= presets[presetName].join('|') %>"><%= presetName %></option>
                        <% } %>
                    </select>
                </div>
                <div class="col-3 col-md-2 col-lg-1 pl-0">
                    <button class="btn-info form-control" type="button" onclick="addPreset();">Add</button>
                </div>
            </div>
            
            <!-- Submit!-->
            <div class="row justify-content-around py-4 border-bottom border-primary">
                <input class="btn-primary form-control col-md-2 col-3" type="submit" value="Search" />
            </div>
        </form>
        <div class="row justify-content-around py-4 border-bottom border-primary">
            <p class="text-center">
                <b>
                    Moc-Meetup is the super helpful scheduling tool for tutors, club leaders, and event
                    organizers! We can help you know when your audience isn't in class,
                    what classrooms are free, and what the statistically best times for your
                    event are! Enter courses in the table above, and we'll organize them
                    into a  weekly calendar to help you find the most usable times for your scheduling!
                </b>
            </p>
        </div>
    </div>

<%- include('includes/footer.ejs') %>

<script type="text/javascript" src="/javascripts/classSearch.js"></script>
